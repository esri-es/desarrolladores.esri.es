!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.calciteMarketing=e()}(this,function(){"use strict";function t(t,e){var n=" "+t.className+" ";return n.indexOf(" "+e+" ")!==-1}function e(e,n){n.split(" ").forEach(function(n){t(e,n)||(e.className+=" "+n)})}function n(t,e){var n=" "+t.className+" ";e.split(" ").forEach(function(t){n=n.replace(" "+t+" "," ")}),t.className=n.trim()}function i(t){t=a(t),t.forEach(function(t){n(t,"is-active")})}function r(t){t=a(t),t.forEach(function(t){e(t,"is-active")})}function a(t){return Array.isArray(t)?t:Array.prototype.slice.call(t)}function o(t,e){var n=e||document,i=n.querySelectorAll(t);return a(i)}function c(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):void 0}function s(){}function f(){function t(t){t?e(t.node):s.forEach(function(t){e(t)})}function e(t){c(t,"click",n)}function n(t){t.preventDefault();var e={set:t.target.getAttribute("data-set"),target:t.target.getAttribute("data-view")};u.emit("switcher:toggle",e)}function a(t){var e=o(".js-view[data-set="+t.set+"]"),n=o(".js-view[data-set="+t.set+"][data-view="+t.target+"]"),a=o(".js-view-toggle[data-set="+t.set+"]"),c=o(".js-view-toggle[data-set="+t.set+"][data-view="+t.target+"]");i(e),i(a),r(n),r(c)}var s=o(".js-view-toggle");u.on("switcher:bind",t),u.on("switcher:toggle",a),u.emit("switcher:bind")}s.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var a=0,o=i.length;a<o;a++)i[a].fn!==e&&i[a].fn._!==e&&r.push(i[a]);return r.length?n[t]=r:delete n[t],this}};var u=new s,l={viewSwitcher:f};return l});