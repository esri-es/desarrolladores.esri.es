!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.calcite=e()}(this,function(){"use strict";function t(t,e){var n=" "+t.className+" ";return n.indexOf(" "+e+" ")!==-1}function e(e,n){n.split(" ").forEach(function(n){t(e,n)||(e.className+=" "+n)})}function n(t,e){var n=" "+t.className+" ";e.split(" ").forEach(function(t){n=n.replace(" "+t+" "," ")}),t.className=n.trim()}function r(r,i){t(r,i)?n(r,i):e(r,i)}function i(t){t=d(t),t.forEach(function(t){n(t,"is-active")})}function o(t){t=d(t),t.forEach(function(t){e(t,"is-active")})}function a(t,n){i(t),e(n,"is-active")}function c(e,n){var r;for(r=n;r&&(1!==r.nodeType||!t(r,e));r=r.parentNode);return r}function d(t){return Array.isArray(t)?t:Array.prototype.slice.call(t)}function u(t,e){var n=e||document,r=n.querySelectorAll(t);return d(r)}function s(t,e){var n=e.filter(function(e){var n=t.toLowerCase(),r=e.innerHTML.toLowerCase();return r.indexOf(n)!==-1});return n}function f(t){t.forEach(function(t){var e=t.getAttribute("aria-hidden");"true"!==e?t.setAttribute("aria-hidden",!0):t.removeAttribute("aria-hidden")})}function l(t){t.forEach(function(t){t.setAttribute("aria-hidden",!0)})}function v(t){t.forEach(function(t){t.removeAttribute("aria-hidden")})}function p(t){var e=t.getAttribute("aria-expanded");e?t.removeAttribute("aria-expanded"):t.setAttribute("aria-expanded","true")}function m(){return"click"}function b(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):void 0}function h(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):void 0}function w(t){return t.target||t.srcElement}function y(t){return t.preventDefault?t.preventDefault():void(t.returnValue&&(t.returnValue=!1))}function g(t){return t=t||window.event,t.stopPropagation?t.stopPropagation():void(t.cancelBubble&&(t.cancelBubble=!0))}function A(t,e,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}}function j(){}function E(){function e(t){t?n(t.node):a.forEach(function(t){n(t)})}function n(e){e.setAttribute("aria-live","polite"),e.setAttribute("role","tablist"),d(e.children).forEach(function(e){var n=e.querySelector(".accordion-title");n.setAttribute("role","tab"),n.setAttribute("tabindex","0"),t(e,"is-active")&&e.setAttribute("aria-expanded","true"),b(n,m(),i),b(e,"keyup",function(t){13===t.keyCode&&i(t)})})}function i(t){g(t);var e=c("accordion-section",w(t));R.emit("accordion:toggle",{node:e})}function o(t){r(t.node,"is-active"),p(t.node)}var a=u(".js-accordion");R.on("accordion:bind",e),R.on("accordion:toggle",o),R.emit("accordion:bind")}function k(t){h(document.body,m(),k),u(".js-dropdown").forEach(function(t){n(t,"is-active")}),u(".js-dropdown-toggle").forEach(function(t){t.setAttribute("aria-expanded","false")})}function x(n){if(n){var r=t(n.node,"is-active");R.emit("dropdown:close"),r||(e(n.node,"is-active"),n.target&&n.target.setAttribute("aria-expanded","true")),t(n.node,"is-active")&&b(document.body,m(),k)}}function S(t){var e=u(".js-dropdown-toggle");e.forEach(function(t){var e=!1;J.dropdowns.forEach(function(n){n.target===t&&n.event===m()&&n.fn===q&&(e=!0)}),e||(J.dropdowns.push({target:t,event:m(),fn:q}),b(t,m(),q))})}function q(t){y(t),g(t);var e=c("js-dropdown",t.target);R.emit("dropdown:toggle",{node:e,target:t.target})}function D(){R.on("dropdown:toggle",x),R.on("dropdown:close",k),R.on("keyboard:escape",k),$=!0}function C(){$||D(),S()}function T(){function r(n){R.emit("drawer:close");var r=document.querySelector('.js-drawer[data-drawer="'+n.id+'"]'),i=t(r,"drawer-right"),a=t(r,"drawer-left");r.setAttribute("tabindex",0),e(r,"is-active"),i?e(p,"drawer-right-is-active"):a&&e(p,"drawer-left-is-active"),l([p,w]),b(r,m(),d),b(document,"focusin",o)}function i(t){if(t){var e=document.querySelector('.js-drawer[data-drawer="'+t.id+'"]');e.removeAttribute("tabindex"),n(e,"is-active")}else A.forEach(function(t){t.removeAttribute("tabindex"),n(t,"is-active")});n(p,"drawer-left-is-active"),n(p,"drawer-right-is-active"),v([p,w]),h(document,"focusin",o),f&&f.focus()}function o(e){c("js-drawer",e.target)||A.forEach(function(e){t(e,"is-active")&&e.focus()})}function a(t){t?b(t.node,m(),s):g.forEach(function(t){b(t,m(),s)})}function d(e){t(e.target,"js-drawer")&&R.emit("drawer:close")}function s(t){y(t);var e=t.target.getAttribute("data-drawer");R.emit("drawer:open",{id:e})}var f,p=document.querySelector(".wrapper"),w=document.querySelector(".footer"),g=u(".js-drawer-toggle"),A=u(".js-drawer");R.on("drawer:open",r),R.on("keyboard:escape",i),R.on("drawer:close",i),R.on("drawer:bind",a),R.emit("drawer:bind")}function L(){var r=u(".js-expand-toggle"),i=document.querySelectorAll(".js-expand");r.forEach(function(r){b(r,m(),function(o){y(o);var c=r.getAttribute("data-expand"),d=document.querySelector('.js-expand[data-expand="'+c+'"]'),u=t(d,"is-active"),s=t(d,"is-active");a(i,d),u&&s?n(d,"is-active"):e(d,"is-active")})})}function O(){function o(){var t=u(".js-filter-dropdown");t.forEach(function(t){var r=t.getAttribute("data-filter-dropdown"),i=t.querySelector(".filter-dropdown-input");b(i,"focus",f);for(var o=t.querySelectorAll(".js-filter-dropdown-open"),a=0;a<o.length;a++){var c=o[a];c.setAttribute("data-id",r),b(c,m(),v)}for(var u=t.querySelectorAll(".js-filter-dropdown-close"),p=0;p<u.length;p++){var h=u[p];h.setAttribute("data-id",r),b(h,m(),v)}for(var w=t.querySelectorAll(".filter-dropdown-link"),y=0;y<w.length;y++){var g=w[y];g.setAttribute("data-item-id",y),b(g,m(),l)}b(i,"keyup",function(t){var r=d(w);r.forEach(function(t){e(t,"hide")}),s(i.value,r).forEach(function(t){n(t,"hide")})})})}function a(t){var e=c("js-filter-dropdown",t.target);return{parent:e,id:e.getAttribute("data-filter-dropdown"),item:t.target}}function f(t){g(t);var e=a(t);R.emit("filterDropdown:input:focus",e)}function l(t){y(t),g(t);var e=a(t);R.emit("filterDropdown:select",e)}function v(t){t.preventDefault();var e=a(t);r(t.target,"is-active"),R.emit("filterDropdown:toggle",e)}function p(e){var n=e.parent.querySelector(".filter-dropdown-list");t(n,"is-active")?R.emit("filterDropdown:close",e):R.emit("filterDropdown:open",e)}function h(t){r(t.item,"is-active")}function w(t){var e=t.parent.querySelectorAll(".filter-dropdown-link.is-active"),r=e[t.i];n(r,"is-active");var i=t.parent.querySelectorAll(".filter-dropdown-link.is-active"),o={parent:t.parent,id:t.id,active:i};R.emit("filterDropdown:active",o)}function A(t){j();var r=t.parent.querySelector(".filter-dropdown-list");e(r,"is-active");var i=u(".js-filter-dropdown-close",t.parent),o=u(".js-filter-dropdown-open",t.parent);o.forEach(function(t){return n(t,"is-active")}),i.forEach(function(t){return e(t,"is-active")})}function j(t){var r=document.querySelectorAll(".filter-dropdown-list");i(r);var o=u(".js-filter-dropdown-open"),a=u(".js-filter-dropdown-close");o.forEach(function(t){return e(t,"is-active")}),a.forEach(function(t){return n(t,"is-active")})}function E(t){var e=t.parent.querySelectorAll(".filter-dropdown-link.is-active"),n={parent:t.parent,id:t.id,active:e};R.emit("filterDropdown:active",n)}function k(t){R.emit("filterDropdown:active:clear",t);var r=t.parent.querySelector(".js-flilter-dropdown-no-filters");t.active.length>0?e(r,"hide"):n(r,"hide");for(var i=0;i<t.active.length;i++){var o=t.active[i],a='<span class="filter-dropdown-active">'+o.innerHTML+'<a class="filter-dropdown-remove" href="#" data-item-id=\''+i+"'></a></span>";t.parent.insertAdjacentHTML("beforeend",a);var c=t.parent.querySelector('.filter-dropdown-remove[data-item-id="'+i+'"]');b(c,m(),x)}}function x(t){t.preventDefault();var e=a(t);e.i=t.target.getAttribute("data-item-id"),R.emit("filterDropdown:select:remove",e)}function S(t){for(var e=t.parent.querySelectorAll(".filter-dropdown-active"),n=0;n<e.length;n++)t.parent.removeChild(e[n])}R.on("filterDropdown:bind",o),R.on("filterDropdown:select",h),R.on("filterDropdown:select",E),R.on("filterDropdown:select:remove",w),R.on("filterDropdown:active",k),R.on("filterDropdown:active:clear",S),R.on("filterDropdown:toggle",p),R.on("filterDropdown:open",A),R.on("filterDropdown:close",j),R.on("keyboard:escape",j),R.emit("filterDropdown:bind")}function N(){function r(t){if(R.emit("modal:close"),t){var n=document.querySelector('.js-modal[data-modal="'+t+'"]');n.removeAttribute("tabindex"),b(document,"focusin",d),e(n,"is-active"),l([f,p]),n.focus()}}function o(t){if(!t)return i(g);var e=document.querySelector('.js-modal[data-modal="'+t+'"]');n(e,"is-active"),e.setAttribute("tabindex",0),h(document,"focusin",d),v([f,p])}function a(t){t?b(t,m(),s):w.forEach(function(t){b(t,m(),s)})}function d(e){c("js-modal",e.target)||g.forEach(function(e){t(e,"is-active")&&e.focus()})}function s(t){y(t);var e=t.target.dataset.modal;R.emit("modal:open",e)}var f=document.querySelector(".wrapper"),p=document.querySelector(".footer"),w=u(".js-modal-toggle"),g=u(".js-modal");R.on("modal:open",r),R.on("keyboard:escape",o),R.on("modal:close",o),R.on("modal:bind",a),R.emit("modal:bind")}function M(){function r(r){var i=c("js-site-search",r.target),o=t(i,"is-active");o?(n(i,"is-active"),r.target.value=""):e(i,"is-active")}var i=u(".js-site-search");i.forEach(function(t){b(t,"focusin",r),b(t,"focusout",r)})}function P(){function t(){n.forEach(function(t){b(t,"change",e)})}function e(t){window.location.assign(t.currentTarget.value)}R.on("selectnav:bind",t);var n=u(".js-select-nav");R.emit("selectnav:bind")}function z(t){for(var e="",n=0;n<t;n++)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e}function H(t){if(!t)throw new TypeError("Invalid argument `value` has no value.");this.value=H.EMPTY,t&&t instanceof H?this.value=t.toString():t&&"[object String]"===Object.prototype.toString.call(t)&&H.isGuid(t)&&(this.value=t),this.equals=function(t){return H.isGuid(t)&&this.value===t},this.isEmpty=function(){return this.value===H.EMPTY},this.toString=function(){return this.value},this.toJSON=function(){return this.value}}function Y(){function r(t){var r=H.raw();t.setAttribute("data-sticky-id",r);var i=t.parentNode,o=t.cloneNode("deep");e(o,"js-shim"),n(o,"js-sticky"),o.setAttribute("data-sticky-id",r),o.style.visibility="hidden",o.style.display="none",i.insertBefore(o,t)}function i(t){var n=t.element.getAttribute("data-sticky-id"),r=document.querySelector('.js-shim[data-sticky-id="'+n+'"]');n&&r&&(e(t.element,"is-sticky"),r.style.display="")}function o(t){var e=t.element.getAttribute("data-sticky-id"),r=document.querySelector('.js-shim[data-sticky-id="'+e+'"]');e&&r&&(n(t.element,"is-sticky"),r.style.display="none")}function a(e){d.forEach(function(n){var r=n.element;if(t(n.element,"is-sticky")){var i=n.element.getAttribute("data-sticky-id");r=document.querySelector('.js-shim[data-sticky-id="'+i+'"]')}if(r){var o=r.getAttribute("data-top")||0;n.top=r.offsetTop-parseInt(o,0)}n.top<e?R.emit("sticky:stick",n):R.emit("sticky:unstick",n)})}R.on("scrolling:at",a),R.on("sticky:stick",i),R.on("sticky:unstick",o);var c=u(".js-sticky"),d=c.map(function(t){var e=t.offsetTop,n=t.getAttribute("data-top")||0;t.style.top=n+"px";var i=t.getAttribute("data-sticky-id");return i||r(t),{top:e-parseInt(n,0),element:t}})}function B(){function e(){var e=u(".js-tab"),r=u(".js-tab-group"),i=u(".js-tab-section");r.forEach(function(t){t.setAttribute("aria-live","polite"),n(t),t.children[0].setAttribute("role","tablist");for(var e=t.querySelectorAll(".js-tab"),r=100/e.length,i=0;i<e.length;i++)e[i].style.maxWidth=r+"%"}),e.forEach(function(t){t.setAttribute("aria-expanded","false"),t.setAttribute("role","tab"),t.setAttribute("tabindex","0"),b(t,m(),o),b(t,"keyup",s)}),i.forEach(function(e){e.setAttribute("role","tabpanel");var n=t(e,"is-active");n?e.setAttribute("aria-expanded",!0):e.setAttribute("aria-expanded",!1)})}function n(t){var e=t.getAttribute("data-tab");if(e)return e;var n=H.raw();return t.setAttribute("data-tab",n),n}function r(t){var e=t.parent,n=d(e.querySelectorAll(".js-tab")),r=t.active,i=d(e.querySelectorAll(".js-tab-section")),o=n.indexOf(r),c=i[o];n.forEach(function(t){t.setAttribute("aria-expanded",!1)}),r.setAttribute("aria-expanded",!0),a(n,r),i.forEach(function(t){t.setAttribute("aria-expanded",!1)}),c.setAttribute("aria-expanded",!0),a(i,c)}function i(t){var e=t.target,r=c("js-tab-group",e),i=n(r);return{parent:r,id:i,active:e}}function o(t){t.preventDefault();var e=i(t);R.emit("tabs:active",e)}function s(t){var e=i(t);13===t.keycode&&R.emit("tabs:active",e)}R.on("tabs:bind",e),R.on("tabs:active",r),R.emit("tabs:bind")}function G(){function t(t){i.scrollLeft+=t}function r(){n(o,"is-active"),n(a,"is-active"),i.scrollLeft>0&&e(o,"is-active"),i.scrollLeft+i.clientWidth+5<i.scrollWidth&&e(a,"is-active")}var i=u(".js-nav-overflow")[0],o=u(".js-overflow-left")[0],a=u(".js-overflow-right")[0];i&&(o&&b(o,m(),t.bind(null,-40)),a&&b(a,m(),t.bind(null,40)),b(i,"scroll",r),b(window,"resize",r),r())}function I(t){27===t.keyCode?R.emit("keyboard:escape"):13===t.keyCode?R.emit("keyboard:return"):32===t.keyCode?R.emit("keyboard:space"):38===t.keyCode?R.emit("keyboard:arrow:up"):40===t.keyCode?R.emit("keyboard:arrow:down"):37===t.keyCode?R.emit("keyboard:arrow:left"):39===t.keyCode&&R.emit("keyboard:arrow:right")}function W(){R.emit("scrolling:at",window.pageYOffset)}function V(){for(;K.length;)K.shift().call()}function _(t){for(var e in t)K.push(t[e]);Object.assign(this,t)}var J={dropdowns:[]};j.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}};var R=new j,$=!1,F=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");H.EMPTY="00000000-0000-0000-0000-000000000000",H.isGuid=function(t){return t&&(t instanceof H||F.test(t.toString()))},H.create=function(){return new H([z(2),z(1),z(1),z(1),z(3)].join("-"))},H.raw=function(){return[z(2),z(1),z(1),z(1),z(3)].join("-")},"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),b(document,"keyup",I),b(window,"scroll",A(W,100));var K=[E,C,T,L,O,N,M,P,Y,B,G],Q={version:"1.0.0-beta.25",click:m,addEvent:b,removeEvent:h,eventTarget:w,preventDefault:y,stopPropagation:g,throttle:A,hasClass:t,addClass:e,removeClass:n,toggleClass:r,removeActive:i,addActive:o,toggleActive:a,toggleAriaHidden:f,toggleAriaExpanded:p,closest:c,nodeListToArray:d,findElements:u,bus:R,accordion:E,dropdown:C,drawers:T,expander:L,filterDropdown:O,modal:N,search:M,selectNav:P,sticky:Y,tabs:B,thirdNav:G,extend:_,init:V};return Q});